import{s as _,v as re,x as ie,y as le,r as B,e as P,z as ue,A as ce,h as K,B as V,C as $,D as N,E as W,G as de,H as q,T as fe,I as L,J as F,K as H,L as ve,M as he,O as me,P as pe,R as ge,o as ye,S as be,U as Se,V as Pe,W as Te,X as xe}from"./index-CHvrA2v2.js";import{u as Ee,d as A,v as U,e as ke,f as Ce,g as qe,h as we,i as Oe,j as De,r as z,s as Ae,p as G,k as Be,l as He,m as _e}from"./QTable--e6k51nA.js";import{c as Le}from"./useAuth-CMMvJY-s.js";const Qe=_({name:"QTooltip",inheritAttrs:!1,props:{...Ee,...re,...A,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...A.transitionShow,default:"jump-down"},transitionHide:{...A.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:U},self:{type:String,default:"top middle",validator:U},offset:{type:Array,default:()=>[14,14],validator:ke},scrollTarget:ie,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...le],setup(e,{slots:r,emit:a,attrs:u}){let s,c;const f=L(),{proxy:{$q:d}}=f,m=B(null),g=B(!1),T=P(()=>G(e.anchor,d.lang.rtl)),b=P(()=>G(e.self,d.lang.rtl)),x=P(()=>e.persistent!==!0),{registerTick:t,removeTick:v}=Ce(),{registerTimeout:h}=ue(),{transitionProps:E,transitionStyle:k}=qe(e),{localScrollTarget:w,changeScrollEvent:o,unconfigureScrollTarget:l}=we(e,R),{anchorEl:n,canShow:C,anchorEvents:p}=Oe({showing:g,configureAnchorEl:ne}),{show:X,hide:O}=ce({showing:g,canShow:C,handleShow:Z,handleHide:ee,hideOnRouteChange:x,processOnMount:!0});Object.assign(p,{delayShow:te,delayHide:oe});const{showPortal:M,hidePortal:j,renderPortal:Y}=De(f,m,se,"tooltip");if(d.platform.is.mobile===!0){const i={anchorEl:n,innerRef:m,onClickOutside(y){return O(y),y.target.classList.contains("q-dialog__backdrop")&&H(y),!0}},D=P(()=>e.modelValue===null&&e.persistent!==!0&&g.value===!0);K(D,y=>{(y===!0?Be:z)(i)}),V(()=>{z(i)})}function Z(i){M(),t(()=>{c=new MutationObserver(()=>S()),c.observe(m.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),S(),R()}),s===void 0&&(s=K(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,S)),h(()=>{M(!0),a("show",i)},e.transitionDuration)}function ee(i){v(),j(),Q(),h(()=>{j(!0),a("hide",i)},e.transitionDuration)}function Q(){c!==void 0&&(c.disconnect(),c=void 0),s!==void 0&&(s(),s=void 0),l(),$(p,"tooltipTemp")}function S(){Ae({targetEl:m.value,offset:e.offset,anchorEl:n.value,anchorOrigin:T.value,selfOrigin:b.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function te(i){if(d.platform.is.mobile===!0){N(),document.body.classList.add("non-selectable");const D=n.value,y=["touchmove","touchcancel","touchend","click"].map(I=>[D,I,"delayHide","passiveCapture"]);W(p,"tooltipTemp",y)}h(()=>{X(i)},e.delay)}function oe(i){d.platform.is.mobile===!0&&($(p,"tooltipTemp"),N(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),h(()=>{O(i)},e.hideDelay)}function ne(){if(e.noParentEvent===!0||n.value===null)return;const i=d.platform.is.mobile===!0?[[n.value,"touchstart","delayShow","passive"]]:[[n.value,"mouseenter","delayShow","passive"],[n.value,"mouseleave","delayHide","passive"]];W(p,"anchor",i)}function R(){if(n.value!==null||e.scrollTarget!==void 0){w.value=de(n.value,e.scrollTarget);const i=e.noParentEvent===!0?S:O;o(w.value,i)}}function ae(){return g.value===!0?q("div",{...u,ref:m,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",u.class],style:[u.style,k.value],role:"tooltip"},F(r.default)):null}function se(){return q(fe,E.value,ae)}return V(Q),Object.assign(f.proxy,{updatePosition:S}),Y}}),Re=_({name:"QBar",props:{...ve,dense:Boolean},setup(e,{slots:r}){const{proxy:{$q:a}}=L(),u=he(e,a),s=P(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${u.value===!0?"dark":"light"}`);return()=>q("div",{class:s.value,role:"toolbar"},F(r.default))}}),Ie=_({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:r,emit:a}){const u=L(),s=B(null);let c=0;const f=[];function d(t){const v=typeof t=="boolean"?t:e.noErrorFocus!==!0,h=++c,E=(o,l)=>{a(`validation${o===!0?"Success":"Error"}`,l)},k=o=>{const l=o.validate();return typeof l.then=="function"?l.then(n=>({valid:n,comp:o}),n=>({valid:!1,comp:o,err:n})):Promise.resolve({valid:l,comp:o})};return(e.greedy===!0?Promise.all(f.map(k)).then(o=>o.filter(l=>l.valid!==!0)):f.reduce((o,l)=>o.then(()=>k(l).then(n=>{if(n.valid===!1)return Promise.reject(n)})),Promise.resolve()).catch(o=>[o])).then(o=>{if(o===void 0||o.length===0)return h===c&&E(!0),!0;if(h===c){const{comp:l,err:n}=o[0];if(n!==void 0&&console.error(n),E(!1,l),v===!0){const C=o.find(({comp:p})=>typeof p.focus=="function"&&be(p.$)===!1);C!==void 0&&C.comp.focus()}}return!1})}function m(){c++,f.forEach(t=>{typeof t.resetValidation=="function"&&t.resetValidation()})}function g(t){t!==void 0&&H(t);const v=c+1;d().then(h=>{v===c&&h===!0&&(e.onSubmit!==void 0?a("submit",t):t!==void 0&&t.target!==void 0&&typeof t.target.submit=="function"&&t.target.submit())})}function T(t){t!==void 0&&H(t),a("reset"),Se(()=>{m(),e.autofocus===!0&&e.noResetFocus!==!0&&b()})}function b(){Le(()=>{if(s.value===null)return;const t=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),v=>v.tabIndex!==-1);t!=null&&t.focus({preventScroll:!0})})}me(Pe,{bindComponent(t){f.push(t)},unbindComponent(t){const v=f.indexOf(t);v!==-1&&f.splice(v,1)}});let x=!1;return pe(()=>{x=!0}),ge(()=>{x===!0&&e.autofocus===!0&&b()}),ye(()=>{e.autofocus===!0&&b()}),Object.assign(u.proxy,{validate:d,resetValidation:m,submit:g,reset:T,focus:b,getValidationComponents:()=>f}),()=>q("form",{class:"q-form",ref:s,onSubmit:g,onReset:T},F(r.default))}});function J(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const r=parseInt(e,10);return isNaN(r)?0:r}const Ke=Te({name:"close-popup",beforeMount(e,{value:r}){const a={depth:J(r),handler(u){a.depth!==0&&setTimeout(()=>{const s=He(e);s!==void 0&&_e(s,u,a.depth)})},handlerKey(u){xe(u,13)===!0&&a.handler(u)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:r,oldValue:a}){r!==a&&(e.__qclosepopup.depth=J(r))},beforeUnmount(e){const r=e.__qclosepopup;e.removeEventListener("click",r.handler),e.removeEventListener("keyup",r.handlerKey),delete e.__qclosepopup}});export{Ke as C,Re as Q,Qe as a,Ie as b};
